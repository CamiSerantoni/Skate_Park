<body>
  <h1>Skate Park</h1>
  <div class="py-4">
    <h2>Registro</h2>
    <hr class="w-50" />
    <form id="registro">
      <div class="form-group row w-50 m-auto">
        <div class="form-group col-12 col-sm-6">
          <label for="email">Email</label>
          <input class="form-control m-auto" type="email" id="email" name="email" required />
        </div>
        <div class="form-group col-12 col-sm-6">
          <label for="nombre">Nombre</label>
          <input class="form-control m-auto" type="text" id="nombre" name="nombre" required />
        </div>
        <div class="form-group col-12 col-sm-6">
          <label for ="password">Password</label>
          <input class="form-control m-auto" type="password" id="password" name="password" required />
        </div>
        <div class="form-group col-12 col-sm-6">
          <label for="password2">Repita la password</label>
          <input class="form-control m-auto" id="password2" />
        </div>
        <div class="form-group col-12 col-sm-6">
          <label for="experiencia">Años de experiencia</label>
          <input class="form-control m-auto" type="number" id="experiencia" name="anos_experiencia" required />
        </div>
        <div class="form-group col-12 col-sm-6">
          <label for="especialidad">Especialidad</label>
          <input class="form-control m-auto" type="text" id="especialidad" name="especialidad" required />
        </div>
        <div class="form-group col-12 col-sm-12">
          <label for="fileInput">Foto de perfil</label>
          <input type="file" id="fileInput" name="foto" />
        </div>
      </div>
      <button class="btn btn-info mb-3" onclick="registrar()">Registrarme</button>
      <p><a href="/login"> Iniciar sesión</a></p>
    </form>
</body>

<script>
 function registrar() {
            console.log('DENTRO DEL REGISTRAR')
            let email = document.getElementById('email');
            let nombre = document.getElementById('nombre');
            let password = document.getElementById('password');
            let password2 = document.getElementById('password2');
            let experiencia = document.getElementById('experiencia');
            let especialidad = document.getElementById('especialidad');
            let file = document.getElementById('fileInput');
            if (!email.value || !nombre.value || !password.value || !password2.value || !experiencia.value || !especialidad.value) {
                alert('Favor, complete todos los campos');
                return;
            }
            if (password.value !== password2.value) {
                alert('Las contraseñas no coinciden');
                return;
            }
            axios.post('skater', {
                email: email.value,
                nombre: nombre.value,
                password: password.value,
                anos_experiencia: experiencia.value,
                especialidad: especialidad.value,
                foto: file.value,
                estado: false
            }).then(response => {//Esto no funciona
                console.log("usuario registrado", response);
                alert('Usuario registrado exitosamente');
                //getData();
            }).catch((error) => {
                console.error(error);
            });
        }





</script>